<%@page import="com.yjgs.bll.ComplaintBll"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>具体申诉查询</title>
</head>
<body>
<%
	int ComplaintID=0;
	String ManagerName = null;
	int userId = 0;
	try{
		ComplaintID = Integer.parseInt(request.getParameter("Id"));
		ManagerName = request.getParameter("ManaName");
		ManagerName = new String(ManagerName.getBytes("iso-8859-1"),"UTF-8");
		userId = Integer.parseInt(request.getParameter("UserID"));
		
		if(ComplaintID==0||ManagerName==null||userId==0){
			request.setAttribute("judge", "false");
			request.setAttribute("text", "数据传递出错！");
			request.setAttribute("URL", "../ManagerComplaint/NewsRemind.jsp");
			request.getRequestDispatcher("../Master/handlePage.jsp").forward(request, response);
			return;
		}
		
		request.setCharacterEncoding("UTF-8");
		response.setCharacterEncoding("UTF-8");
		ComplaintBll cBll = new ComplaintBll();
		cBll.loadComplaint(userId,ComplaintID,ManagerName,out,request,response);
	}
	catch(Exception e){
		e.printStackTrace();
		request.setAttribute("judge", "false");
		request.setAttribute("text", "数据传递出错！");
		request.setAttribute("URL", "../ManagerComplaint/NewsRemind.jsp");
		request.getRequestDispatcher("../Master/handlePage.jsp").forward(request, response);
		return;
	}
	//int userId = (int)session.getAttribute("UserID");
	
%>
</body>
</html>